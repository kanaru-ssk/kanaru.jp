---
import BaseLayout from "@/layouts/BaseLayout.astro";
import HomeLayout from "@/layouts/HomeLayout.astro";
import { CAREER_START_DATE } from "@/lib/constant";
import { getDiffYear } from "@/lib/date";
import { getDictionary, LANGS } from "@/lib/lang";

export function getStaticPaths() {
  return LANGS.map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
const yearOfExperience = getDiffYear(CAREER_START_DATE, new Date());
const { title, descriptions } = getDictionary(lang, yearOfExperience);
---

<BaseLayout descriptions={descriptions} lang={lang} title={title}>
  <HomeLayout descriptions={descriptions} title={title} />
</BaseLayout>
